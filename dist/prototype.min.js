!function(t){function e(t){this.item=t.item,this.sunItem=t.sunItem,this.itemActive=t.itemActive||"open",this.sunActive=t.sunActive||"active",this.fn=t.fn||function(){},this.el=t.el,this.url=t.url,this.tempUrl=t.tempUrl}function i(t){this.el=t.el.get(0),this.up=t.up||function(){},this.down=t.down||function(){}}function n(t){this.el=t.el,this.container=t.container,this.direction=t.direction,this.limit=t.limit||!1,this.callback=t.callback||function(){}}var s={};e.prototype={init:function(){this.url&&this.loadTemp(),this.titleHandler(),this.sunHandler()},titleHandler:function(){var t=$(this.item),e=this.itemActive;t.click(function(){var i=$(this),n=i.parent(),s=i.next();$.each(t,function(t,i){if($(i).parent().hasClass(e))return $(i).parent().removeClass(e),$(i).next().stop().slideUp(300),!1}),s.is(":hidden")?(s.stop().slideDown(300),n.addClass(e)):(s.stop().slideUp(300),n.removeClass(e))})},sunHandler:function(){var t=$(this.sunItem).children(),e=this.sunActive,i=this.fn;t.click(function(){var n=$(this);$.each(t,function(t,i){if($(i).hasClass(e))return $(i).removeClass(e),!1}),n.addClass(e),i(n)})},loadTemp:function(){var t=this;$.ajax({type:"GET",url:t.url,async:!1,dataType:"json",success:function(e,i,n){200==n.status&&$.ajax({type:"GET",url:t.tempUrl,async:!1,dataType:"text",success:function(i){if(200==n.status){var s=juicer(i,e);$(t.el).html(s)}}})}})}},s.sidebarMenu=function(t){return new e(t).init()},i.prototype={init:function(){var t=this.el,e=this.wheelHandler,i=this;t.onmousewheel=function(t){e(t,i)},t.addEventListener&&t.addEventListener("DOMMouseScroll",function(t){e(t,i)},!1)},wheelHandler:function(t,e){return((t=t||event).wheelDelta?t.wheelDelta>0:t.detail<0)?e.up():e.down(),t.preventDefault&&t.preventDefault(),!1}},s.wheel=function(t,e,n){return new i({el:t,up:e,down:n}).init()},s.wheelUp=function(t,e){return new i({el:t,up:e}).init()},s.wheelDown=function(t,e){return new i({el:t,down:e}).init()},n.prototype={init:function(){this.drag(this.el,this.container,this.el.get(0))},drag:function(t,e,i){var n=this;t.mousedown(function(s){var s=s||event,o=t.offset().left,u=t.offset().top,c=s.clientX-o,l=s.clientY-u;return e&&(e.css("position","relative"),o=t.offset().left-e.offset().left,u=t.offset().top-e.offset().top),t.css({position:"absolute",top:u,left:o}),i.setCapture&&i.setCapture(),n.move(t,e,i,c,l),n.up(i),!1})},move:function(t,e,i,n,s){var o=this;$(document).on("mousemove",function(i){var u=(i=i||event).clientX-n,c=i.clientY-s,l=0,r=0;e?(u-=e.offset().left,c-=e.offset().top,l=e.height()-t.height(),r=e.width()-t.width()):o.limit&&(l=$(window).height()-t.height(),r=$(window).width()-t.width()),(e||o.limit)&&("y"!=o.direction&&o.direction||(c<0?c=0:c>l&&(c=l)),"x"!=o.direction&&o.direction||(u<0?u=0:u>r&&(u=r))),"x"!=o.direction&&o.direction||t.css("left",u),"y"!=o.direction&&o.direction||t.css("top",c),o.callback({scaleY:c/l,scaleX:u/r})})},up:function(t){$(document).on("mouseup",function(){$(document).off("mousemove"),$(document).off("mouseup"),t.releaseCapture&&t.releaseCapture()})}},s.drag=function(t){return new n(t).init()},$.extend(s)}(window);